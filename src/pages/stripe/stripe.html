<!--
  Generated template for the StripePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar class="bg-grad-toolbar">
    <ion-title>Stripe</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <form
    name="stripeForm"
    id="stripeForm"
    (ngSubmit)="doPayment()">
    <ion-list
      class="mb-0"
      padding-right>
      <ion-item>
        <ion-label stacked>
          Card Holder's Name
        </ion-label>
        <ion-input
          type="text"
          name="cardHolderName"
          [(ngModel)]="cardHolderName"
          placeholder="Card Holder's Name"
          pattern="[A-Za-z\u0080-\u00FF ]+"
          (change)="fixValidation()"
          (ionBlur)="fixValidation"
          (ionFocus)="fixValidation()"
          required>
        </ion-input>
      </ion-item>

      <ion-item>
        <ion-label stacked>
          Email Address
        </ion-label>
        <ion-input
          name="emailAddress"
          [(ngModel)]="emailAddress"
          [textMask]="{mask: masks.emailAddress}"
          placeholder="someone@example.com"
          (change)="fixValidation()"
          (ionBlur)="fixValidation"
          (ionFocus)="fixValidation()"
          pattern="[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,3}$"
          required>
        </ion-input>
      </ion-item>

      <ion-item>
        <ion-label stacked>
          Phone
        </ion-label>
        <ion-input
          type="tel"
          name="phoneNumber"
          [(ngModel)]="phoneNumber"
          [textMask]="{mask: masks.phoneNumber}"
          placeholder="(123) 456-7890"
          (change)="fixValidation()"
          (ionBlur)="fixValidation"
          (ionFocus)="fixValidation()"
          pattern="^(.[0-9]{3}. [0-9]{3}\-[0-9]{4})(\_?)([0-9]?)$"
          required>
        </ion-input>
      </ion-item>

      <ion-item>
        <ion-label stacked>
          Zip Code
        </ion-label>
        <ion-input
          type="tel"
          name="zipCode"
          [(ngModel)]="zipCode"
          [textMask]="{mask: masks.zipCode}"
          placeholder="94110"
          pattern="^([0-9]{5})(\_?)([0-9]?)$"
          (change)="fixValidation()"
          (ionBlur)="fixValidation"
          (ionFocus)="fixValidation()"
          required>
        </ion-input>
      </ion-item>
      <ion-item>
        <ion-label stacked>
          Credit Card Number
        </ion-label>
        <ion-input
          type="tel"
          name="cardNumber"
          [(ngModel)]="cardNumber"
          [textMask]="{mask: masks.cardNumber}"
          placeholder="4242 4242 4242 4242"
          (change)="fixValidation()"
          (ionBlur)="fixValidation"
          (ionFocus)="fixValidation()"
          required>
        </ion-input>
      </ion-item>

      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label stacked>
              Expiry Date
            </ion-label>
            <ion-input
              type="tel"
              name="cardExpiry"
              [(ngModel)]="cardExpiry"
              [textMask]="{mask: masks.cardExpiry}"
              placeholder="MM/YY"
              (change)="fixValidation()"
              (ionBlur)="fixValidation"
              (ionFocus)="fixValidation()"
              pattern="^([0-1][0-9]\/[1-2][0-9])(\_?)([0-9]?)$"
              required>
            </ion-input>
          </ion-item>
        </ion-col>

        <ion-col>
          <ion-item>
            <ion-label stacked>
              CVC
            </ion-label>
            <ion-input
              type="tel"
              name="cardCVC"
              [(ngModel)]="cardCVC"
              [textMask]="{mask: masks.cardCVC}"
              placeholder="CVC"
              pattern="^([0-9]{3})(\_?)([0-9]?)$"
              (change)="fixValidation()"
              (ionBlur)="fixValidation"
              (ionFocus)="fixValidation()"
              required>
            </ion-input>
          </ion-item>
        </ion-col>
      </ion-row>

    </ion-list>

    <button
      ion-button
      type="submit"
    >Pay ${{ price }}</button>
  </form>
</ion-content>
